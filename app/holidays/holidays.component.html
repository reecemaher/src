<app-nav></app-nav>
<ng-template #modalContent let-close="close">
    <div class="modal-header">
        <h4 class="modal-title">Change Date</h4>
      </div>
  <div>
    <label>New Date</label>
    <input type="date" [(ngModel)]='modalData.start'  #newStart>
    <button class="button" (click)="updateHoliday(modalData)" (click)="close()">Save</button>
    <button class="button" (click)="close()">Close</button>
  </div>
</ng-template>

<!-- <h4 > {{bookable}}</h4> -->
<div *ngFor="let day of daysBookable | async">
  Number of days bookable :
  <input type="number" [(ngModel)]='day.bookableDays' #num>
  <input type="submit" value="change" (click)="change(num.value)">
  <p>Only {{day.bookableDays}} staff members may book the same day off</p>
</div>



<div class="ml3">
  <div class="w-100">
  <div class="center">
          <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
          <div
            class="button"
            mwlCalendarPreviousView
            [view]="view"
            [(viewDate)]="viewDate"
            (viewDateChange)="activeDayIsOpen = false">
            Previous
          </div>
          <div
            class="button"
            mwlCalendarToday
            [(viewDate)]="viewDate">
            Today
          </div>
          <div
            class="button"
            mwlCalendarNextView
            [view]="view"
            [(viewDate)]="viewDate"
            (viewDateChange)="activeDayIsOpen = false">
            Next
          </div>
  </div>
</div>
  <hr/>
  <div class="alert alert-info">
      Click on a day.
    <div *ngIf="clickedDate">You clicked on this day:{{ clickedDate | date:'medium' }}
      <button class="button" [disabled]='bookable' (click)="dayOffRequest(clickedDate)">Book this day</button>
      <button class="button" [disabled]='bookable' (click)="weekOffRequest(clickedDate)">Book this week</button>
    </div>
  </div>
    <hr/>

    
    <div id="calendarConatainer" class="fl w-100">
    <mwl-calendar-month-view
    class="pl8"
        [viewDate]="viewDate"
        [refresh]="refresh"
        [events]="holidays"
        (dayClicked)="clickedDate = $event.day.date"
        [activeDayIsOpen]="activeDayIsOpen"
        (dayClicked)="dayClicked($event.day)"
        (eventTimesChanged)="eventTimesChanged($event)">
      </mwl-calendar-month-view>
  </div>
</div>  